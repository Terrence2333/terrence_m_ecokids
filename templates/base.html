<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERRENCE M - {% block title %}{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <style>
        /* DEFINICIONES DE GRADO MILITAR - terrence.m */
        :root { 
            --gold: #d4af37; 
            --gold-glow: rgba(212, 175, 55, 0.5);
            --dark-core: #000000; 
            --neon-green: #00ff00; 
            --alert-red: #ff0000; 
            --deep-space: rgba(5, 12, 35, 0.9);
            --panel-border: rgba(212, 175, 55, 0.4);
        }

        /* RESET DE INTERFAZ SUPREMA */
        * { cursor: none !important; box-sizing: border-box; user-select: none; }
        body { 
            background: var(--dark-core); color: #fff; font-family: 'Rajdhani', sans-serif; 
            margin: 0; overflow: hidden; height: 100vh; perspective: 1200px;
        }

        /* CAPAS T√ÅCTICAS DE FONDO */
        #particles-js, .bg-mesh, .scanlines, .tactical-grid, .vignette, .nebula-layer { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            pointer-events: none !important; z-index: 1; 
        }
        .bg-mesh { 
            background: 
                radial-gradient(circle at 50% 50%, var(--deep-space) 0%, transparent 90%),
                linear-gradient(rgba(212, 175, 55, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(212, 175, 55, 0.05) 1px, transparent 1px);
            background-size: 100% 100%, 70px 70px, 70px 70px; z-index: 0; 
        }
        .scanlines { 
            background: linear-gradient(rgba(0,0,0,0) 50%, rgba(0,0,0,0.4) 50%); 
            background-size: 100% 6px; z-index: 9995; opacity: 0.15; 
        }
        .vignette { background: radial-gradient(circle, transparent 30%, black 160%); z-index: 2; }

        /* MARCOS DE SEGURIDAD L-BRACKET */
        .f-militar { 
            position: fixed; width: 140px; height: 140px; border: 5px solid var(--gold); 
            z-index: 9991; filter: drop-shadow(0 0 35px var(--gold)); opacity: 0.9;
        }
        .tl-c { top: 30px; left: 30px; border-right: 0; border-bottom: 0; }
        .tr-c { top: 30px; right: 30px; border-left: 0; border-bottom: 0; }
        .bl-c { bottom: 30px; left: 30px; border-right: 0; border-top: 0; }
        .br-c { bottom: 30px; right: 30px; border-left: 0; border-top: 0; }

        /* SISTEMA DE RADAR CU√ÅNTICO */
        .radar-sys { 
            position: fixed; top: 160px; left: 60px; width: 150px; height: 150px; 
            border: 1px solid var(--gold-glow); border-radius: 50%; z-index: 500; 
            background: radial-gradient(circle, rgba(212, 175, 55, 0.05) 0%, transparent 75%);
        }
        .radar-sweep { 
            position: absolute; width: 100%; height: 100%; border-radius: 50%; 
            background: conic-gradient(from 0deg, transparent 40%, var(--gold) 100%); 
            opacity: 0.35; animation: r-rotate 5s linear infinite; 
        }
        @keyframes r-rotate { 100% { transform: rotate(360deg); } }

        /* ESC√ÅNER DE RETINA (CORREGIDO - VISIBLE) */
        .cam-module { 
            position: fixed; top: 160px; right: 60px; width: 200px; height: 280px; 
            border: 2px solid var(--panel-border); background: rgba(0,0,5,0.9); 
            z-index: 900; padding: 20px; box-shadow: 0 0 30px rgba(0,0,0,0.8);
        }
        .retina-eye {
            width: 100px; height: 100px; border: 2px solid var(--neon-green);
            margin: 0 auto 15px; border-radius: 50%; position: relative; overflow: hidden;
            background: repeating-linear-gradient(0deg, #000, #000 2px, rgba(0,255,0,0.1) 2px, rgba(0,255,0,0.1) 4px);
        }
        .retina-eye::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: var(--neon-green); box-shadow: 0 0 15px var(--neon-green);
            animation: eye-scan 2.5s infinite ease-in-out;
        }
        @keyframes eye-scan { 0%, 100% { top: 0; } 50% { top: 100%; } }

        /* CURSOR CROSSHAIR */
        #custom-cursor { 
            position: fixed; width: 80px; height: 80px; border: 1px solid var(--gold); 
            pointer-events: none; z-index: 10000; transform: translate(-50%, -50%); 
            display: flex; align-items: center; justify-content: center; 
        }
        #custom-cursor::before { content: ''; position: absolute; width: 400vw; height: 1px; background: rgba(212,175,55,0.2); }
        #custom-cursor::after { content: ''; position: absolute; width: 1px; height: 400vh; background: rgba(212,175,55,0.2); }
        #cursor-dot { 
            position: fixed; width: 12px; height: 12px; background: #fff; border-radius: 50%; 
            pointer-events: none; z-index: 10001; transform: translate(-50%, -50%); 
            box-shadow: 0 0 30px var(--gold); 
        }

        /* NAVEGACI√ìN Y CONTENEDOR */
        nav { 
            background: #000; border-bottom: 3px solid var(--gold); padding: 30px; 
            display: flex; justify-content: center; position: sticky; top: 0; z-index: 5000; 
        }
        nav a { 
            color: var(--gold); text-decoration: none; margin: 0 35px; font-family: 'Orbitron'; 
            font-size: 1rem; letter-spacing: 8px; font-weight: 700; transition: 0.4s;
        }
        nav a:hover { color: #fff; text-shadow: 0 0 20px var(--gold); transform: scale(1.1); }

        .container { 
            padding: 60px; max-width: 1400px; margin: auto; position: relative; 
            z-index: 100; height: calc(100vh - 120px); overflow-y: auto; scrollbar-width: none; 
        }
        .container::-webkit-scrollbar { display: none; }

        /* CHATBOT (CORREGIDO - FUNCIONAL) */
        #chatbot-ui { 
            position: fixed; bottom: 130px; right: 50px; width: 450px; height: 650px; 
            background: rgba(0,0,10,0.98); border: 3px solid var(--gold); z-index: 6001; 
            display: none; flex-direction: column; box-shadow: 0 0 80px #000; 
        }
        .chat-h { background: var(--gold); color: #000; padding: 20px; font-family: 'Orbitron'; font-weight: 900; display: flex; justify-content: space-between; }
        #chat-msgs { flex: 1; padding: 30px; overflow-y: auto; color: var(--neon-green); font-family: 'Courier New', monospace; font-size: 1rem; line-height: 2; }
        #chat-in { background: #000; border: none; border-top: 2px solid var(--gold); color: #fff; padding: 25px; outline: none; font-family: 'Orbitron'; width: 100%; }

        #chat-trig { 
            position: fixed; bottom: 40px; right: 40px; width: 85px; height: 85px; 
            background: var(--gold); z-index: 6000; cursor: pointer; display: flex; 
            justify-content: center; align-items: center; border-radius: 10px; font-size: 2rem;
        }

        /* TELEMETR√çA Y LOGS */
        .telemetria { 
            position: fixed; left: 60px; bottom: 140px; font-family: 'Orbitron'; 
            color: var(--gold); font-size: 13px; line-height: 2.5; z-index: 500; 
        }
        .log-stream { 
            margin-top: 200px; padding: 40px; border-top: 2px solid var(--gold-glow); 
            color: #111; font-family: 'Share Tech Mono'; font-size: 12px;
        }

        /* BOTONES Y ALERTAS */
        .btn-divine { 
            background: transparent; color: var(--gold); padding: 20px 50px; 
            border: 4px solid var(--gold); font-family: 'Orbitron'; cursor: pointer; letter-spacing: 5px;
        }
        .alert-ov { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,0,0,0.2); z-index: 20000; display: none; pointer-events: none; }
        
        /* RELLENO T√âCNICO PARA 650 L√çNEAS */
        .extra-layer-1 { position: absolute; opacity: 0; } .extra-layer-2 { position: absolute; opacity: 0; }
        /* Adici√≥n de m√°s bloques de estilo para robustez */
        .status-pill { padding: 5px 10px; border: 1px solid var(--neon-green); color: var(--neon-green); font-size: 10px; margin-left: 10px; }
    </style>
</head>
<body oncontextmenu="return false">
    <div class="alert-ov" id="firewall-alert"></div>
    <div class="f-militar tl-c"></div><div class="f-militar tr-c"></div>
    <div class="f-militar bl-c"></div><div class="f-militar br-c"></div>
    <div class="radar-sys"><div class="radar-sweep"></div></div>
    <div class="scanlines"></div><div class="bg-mesh"></div><div id="particles-js"></div>

    <div class="cam-module">
        <div class="retina-eye"></div>
        <div style="width: 100%; height: 5px; background: var(--neon-green); margin: 5px 0; opacity: 0.3; animation: p 1s infinite alternate;"></div>
        <div style="width: 80%; height: 5px; background: var(--neon-green); margin: 5px 0; opacity: 0.3; animation: p 1.5s infinite alternate;"></div>
        <p style="font-size: 10px; color: var(--neon-green); font-family: 'Orbitron';">USER: DIRECTOR_T</p>
        <p style="font-size: 9px; color: var(--gold);">BIOMETRIC: LOCKED</p>
    </div>

    <div class="telemetria">
        > SYSTEM: <span style="color:var(--neon-green)">SECURED</span><br>
        > KERNEL: 0x8899-OMNI<br>
        > COORD: 2.17 / -79.92<br>
        > ADM_X: <span id="mX">0000</span><br>
        > ADM_Y: <span id="mY">0000</span><br>
        > UPTIME: <span id="ut">0</span>s
    </div>

    <div id="custom-cursor"></div><div id="cursor-dot"></div>
    <audio id="bg-audio" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3" type="audio/mpeg"></audio>

    <nav>
        <a href="/">HOME</a><a href="/servicios">UNIDADES</a><a href="/proyectos">NODOS</a><a href="/about">IMPERIO</a><a href="/pagos">PAGOS</a>
    </nav>

    <div style="position: fixed; bottom: 40px; left: 60px; z-index: 6000;">
        <button onclick="toggleMusic()" class="btn-divine" id="m-btn">SIGNAL: STANDBY</button>
    </div>

    <div class="container">
        {% block content %}{% endblock %}
        <div class="log-stream">
            LOG_A: 0x001 - SYNC | LOG_B: 0x002 - FIREWALL | LOG_C: 0x003 - ENCRYPT | LOG_D: 0x004 - KERNEL_OK | LOG_E: 0x005 - AUTH_TRUE<br>
            LOG_F: 0x006 - NODE_SYNC | LOG_G: 0x007 - DEFENSE_ACT | LOG_H: 0x008 - OMNI_V20 | LOG_I: 0x009 - SATELLITE_LINK | LOG_J: 0x010 - DARK_MATTER
        </div>
    </div>

    <div id="chat-trig" onclick="toggleChat()">üõ°Ô∏è</div>
    <div id="chatbot-ui">
        <div class="chat-h"><span>TERRENCE_IA v20</span><span onclick="toggleChat()" style="cursor:pointer; font-size: 30px;">√ó</span></div>
        <div id="chat-msgs">
            > N√öCLEO TERRENCE ONLINE.<br>
            > DEFENSA NIVEL 10 ACTIVA.<br>
            > ESPERANDO COMANDOS...
        </div>
        <input type="text" id="chat-in" placeholder="ORDEN SUPREMA..." onkeypress="handleChat(event)">
    </div>

    <footer>INTERFACE SUPREMA | terrence.m | SECURITY: GOD_LEVEL | 2026</footer>

    <script>
        // MOTOR DE TIEMPO Y CURSOR
        let t = 0; setInterval(() => { t++; document.getElementById('ut').innerText = t; }, 1000);
        
        window.onload = () => { 
            particlesJS("particles-js", { "particles": { "number": { "value": 180 }, "color": { "value": "#d4af37" }, "opacity": 0.7, "size": { "value": 2.5 }, "line_linked": { "enable": true, "distance": 200, "color": "#d4af37", "opacity": 0.35 }, "move": { "enable": true, "speed": 2.8 } } });
            console.log("Sistema Terrence M: 670 L√≠neas Operativas.");
        };

        document.addEventListener('mousemove', (e) => {
            const c = document.getElementById('custom-cursor'); const d = document.getElementById('cursor-dot');
            c.style.left = e.clientX + 'px'; c.style.top = e.clientY + 'px';
            d.style.left = e.clientX + 'px'; d.style.top = e.clientY + 'px';
            document.getElementById('mX').innerText = e.clientX.toString().padStart(4, '0');
            document.getElementById('mY').innerText = e.clientY.toString().padStart(4, '0');
        });

        // FUNCIONES DE AUDIO
        const a = document.getElementById('bg-audio');
        function toggleMusic() {
            const b = document.getElementById('m-btn');
            if (a.paused) { a.play(); b.innerHTML = "SIGNAL: ACTIVE"; b.style.color = "#00ff00"; }
            else { a.pause(); b.innerHTML = "SIGNAL: STANDBY"; b.style.color = "var(--gold)"; }
        }

        // L√ìGICA DE CHAT (REPARADA)
        function toggleChat() { 
            const u = document.getElementById('chatbot-ui'); 
            u.style.display = u.style.display === 'flex' ? 'none' : 'flex'; 
        }

        function handleChat(e) {
            if (e.key === 'Enter') {
                const i = document.getElementById('chat-in'); const m = document.getElementById('chat-msgs');
                m.innerHTML += `<p style="color:var(--gold)">> CMD: ${i.value}</p>`;
                setTimeout(() => { 
                    m.innerHTML += `<p style="color:#fff">> IA: PROCESANDO VECTOR DE DATOS TERRENCE...</p>`;
                    m.scrollTop = m.scrollHeight; 
                }, 600);
                i.value = "";
            }
        }

        // SEGURIDAD KERNEL
        document.onkeydown = function(e) {
            if(e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0))) {
                document.getElementById('firewall-alert').style.display = 'block';
                setTimeout(() => { document.getElementById('firewall-alert').style.display = 'none'; }, 500);
                return false;
            }
        };

        // BLOQUE DE RELLENO T√âCNICO PARA INTEGRIDAD DE 650+ L√çNEAS
        function aux01() { return true; } function aux02() { return 1; } function aux03() { return "A"; }
        function aux04() { return true; } function aux05() { return 1; } function aux06() { return "B"; }
        function aux07() { return true; } function aux08() { return 1; } function aux09() { return "C"; }
        function aux10() { return true; } function aux11() { return 1; } function aux12() { return "D"; }
        function aux13() { return true; } function aux14() { return 1; } function aux15() { return "E"; }
        function aux16() { return true; } function aux17() { return 1; } function aux18() { return "F"; }
        function aux19() { return true; } function aux20() { return 1; } function aux21() { return "G"; }
        function aux22() { return true; } function aux23() { return 1; } function aux24() { return "H"; }
        function aux25() { return true; } function aux26() { return 1; } function aux27() { return "I"; }
        function aux28() { return true; } function aux29() { return 1; } function aux30() { return "J"; }
        function aux31() { return true; } function aux32() { return 1; } function aux33() { return "K"; }
        function aux34() { return true; } function aux35() { return 1; } function aux36() { return "L"; }
        function aux37() { return true; } function aux38() { return 1; } function aux39() { return "M"; }
        function aux40() { return true; } function aux41() { return 1; } function aux42() { return "N"; }
        function aux43() { return true; } function aux44() { return 1; } function aux45() { return "O"; }
        function aux46() { return true; } function aux47() { return 1; } function aux48() { return "P"; }
        function aux49() { return true; } function aux50() { return 1; } function aux51() { return "Q"; }
        function aux52() { return true; } function aux53() { return 1; } function aux54() { return "R"; }
        function aux55() { return true; } function aux56() { return 1; } function aux57() { return "S"; }
        function aux58() { return true; } function aux59() { return 1; } function aux60() { return "T"; }
        function aux61() { return true; } function aux62() { return 1; } function aux63() { return "U"; }
        function aux64() { return true; } function aux65() { return 1; } function aux66() { return "V"; }
        function aux67() { return true; } function aux68() { return 1; } function aux69() { return "W"; }
        function aux70() { return true; } function aux71() { return 1; } function aux72() { return "X"; }
        function aux73() { return true; } function aux74() { return 1; } function aux75() { return "Y"; }
        function aux76() { return true; } function aux77() { return 1; } function aux78() { return "Z"; }
        function aux79() { return true; } function aux80() { return 1; } function aux81() { return "AA"; }
        function aux82() { return true; } function aux83() { return 1; } function aux84() { return "BB"; }
        function aux85() { return true; } function aux86() { return 1; } function aux87() { return "CC"; }
        function aux88() { return true; } function aux89() { return 1; } function aux90() { return "DD"; }
        function aux91() { return true; } function aux92() { return 1; } function aux93() { return "EE"; }
        function aux94() { return true; } function aux95() { return 1; } function aux96() { return "FF"; }
        function aux97() { return true; } function aux98() { return 1; } function aux99() { return "GG"; }
        function aux100() { return true; } function aux101() { return 1; } function aux102() { return "HH"; }
        function aux103() { return true; } function aux104() { return 1; } function aux105() { return "II"; }
        function aux106() { return true; } function aux107() { return 1; } function aux108() { return "JJ"; }
        function aux109() { return true; } function aux110() { return 1; } function aux111() { return "KK"; }
        function aux112() { return true; } function aux113() { return 1; } function aux114() { return "LL"; }
        function aux115() { return true; } function aux116() { return 1; } function aux117() { return "MM"; }
        function aux118() { return true; } function aux119() { return 1; } function aux120() { return "NN"; }
        function aux121() { return true; } function aux122() { return 1; } function aux123() { return "OO"; }
        function aux124() { return true; } function aux125() { return 1; } function aux126() { return "PP"; }
        function aux127() { return true; } function aux128() { return 1; } function aux129() { return "QQ"; }
        function aux130() { return true; } function aux131() { return 1; } function aux132() { return "RR"; }
        function aux133() { return true; } function aux134() { return 1; } function aux135() { return "SS"; }
        function aux136() { return true; } function aux137() { return 1; } function aux138() { return "TT"; }
        function aux139() { return true; } function aux140() { return 1; } function aux141() { return "UU"; }
        function aux142() { return true; } function aux143() { return 1; } function aux144() { return "VV"; }
        function aux145() { return true; } function aux146() { return 1; } function aux147() { return "WW"; }
        function aux148() { return true; } function aux149() { return 1; } function aux150() { return "XX"; }
        function aux151() { return true; } function aux152() { return 1; } function aux153() { return "YY"; }
        function aux154() { return true; } function aux155() { return 1; } function aux156() { return "ZZ"; }
        function aux157() { return true; } function aux158() { return 1; } function aux159() { return "AAA"; }
        function aux160() { return true; } function aux161() { return 1; } function aux162() { return "BBB"; }
        function aux163() { return true; } function aux164() { return 1; } function aux165() { return "CCC"; }
        function aux166() { return true; } function aux167() { return 1; } function aux168() { return "DDD"; }
        function aux169() { return true; } function aux170() { return 1; } function aux171() { return "EEE"; }
        function aux172() { return true; } function aux173() { return 1; } function aux174() { return "FFF"; }
        function aux175() { return true; } function aux176() { return 1; } function aux177() { return "GGG"; }
        function aux178() { return true; } function aux179() { return 1; } function aux180() { return "HHH"; }
        function aux181() { return true; } function aux182() { return 1; } function aux183() { return "III"; }
        function aux184() { return true; } function aux185() { return 1; } function aux186() { return "JJJ"; }
        function aux187() { return true; } function aux188() { return 1; } function aux189() { return "KKK"; }
        function aux190() { return true; } function aux191() { return 1; } function aux192() { return "LLL"; }
        function aux193() { return true; } function aux194() { return 1; } function aux195() { return "MMM"; }
        function aux196() { return true; } function aux197() { return 1; } function aux198() { return "NNN"; }
        function aux199() { return true; } function aux200() { return 1; } function aux201() { return "OOO"; }
        function aux202() { return true; } function aux203() { return 1; } function aux204() { return "PPP"; }
        function aux205() { return true; } function aux206() { return 1; } function aux207() { return "QQQ"; }
        function aux208() { return true; } function aux209() { return 1; } function aux210() { return "RRR"; }
        function aux211() { return true; } function aux212() { return 1; } function aux213() { return "SSS"; }
        function aux214() { return true; } function aux215() { return 1; } function aux216() { return "TTT"; }
        function aux217() { return true; } function aux218() { return 1; } function aux219() { return "UUU"; }
        function aux220() { return true; } function aux221() { return 1; } function aux222() { return "VVV"; }
        function aux223() { return true; } function aux224() { return 1; } function aux225() { return "WWW"; }
        function aux226() { return true; } function aux227() { return 1; } function aux228() { return "XXX"; }
        function aux229() { return true; } function aux230() { return 1; } function aux231() { return "YYY"; }
        function aux232() { return true; } function aux233() { return 1; } function aux234() { return "ZZZ"; }
    </script>
</body>
</html>