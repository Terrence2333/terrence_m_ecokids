<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERRENCE M - {% block title %}{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <style>
        :root { --gold: #d4af37; --bright-gold: #f9e272; --dark: #050505; }
        * { cursor: none !important; }
        body { background: var(--dark); color: #fff; font-family: 'Rajdhani', sans-serif; margin: 0; overflow-x: hidden; }
        
        #loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: 1s; }
        .loader-ring { width: 120px; height: 120px; border: 2px solid transparent; border-top: 2px solid var(--gold); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        #custom-cursor { position: fixed; width: 25px; height: 25px; border: 1px solid var(--gold); border-radius: 50%; pointer-events: none; z-index: 10000; transition: transform 0.1s ease; transform: translate(-50%, -50%); }
        #cursor-dot { position: fixed; width: 5px; height: 5px; background: var(--gold); border-radius: 50%; pointer-events: none; z-index: 10001; transform: translate(-50%, -50%); }

        #particles-js { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }
        .bg-mesh { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(rgba(212, 175, 55, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(212, 175, 55, 0.03) 1px, transparent 1px); background-size: 60px 60px; z-index: 0; }

        nav { background: rgba(0,0,0,0.95); border-bottom: 2px solid var(--gold); padding: 15px; display: flex; justify-content: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 5px 20px #000; }
        nav a { color: var(--gold); text-decoration: none; margin: 0 25px; font-family: 'Orbitron', sans-serif; font-size: 0.85rem; letter-spacing: 2px; transition: 0.5s; }
        nav a:hover { color: var(--bright-gold); text-shadow: 0 0 15px var(--gold); }

        .container { padding: 80px 20px; max-width: 1200px; margin: auto; text-align: center; position: relative; z-index: 10; }
        .glass-panel { background: rgba(10, 10, 10, 0.85); border: 1px solid rgba(212,175,55,0.3); padding: 40px; border-radius: 5px; backdrop-filter: blur(15px); box-shadow: 0 0 50px rgba(0,0,0,0.8); overflow: hidden; position: relative; }
        
        /* Brillo de escaneo en paneles */
        .glass-panel::after { content: ""; position: absolute; top: -100%; left: -100%; width: 50%; height: 300%; background: linear-gradient(rgba(212,175,55,0), rgba(212,175,55,0.05), rgba(212,175,55,0)); transform: rotate(45deg); animation: reflection 8s infinite; }
        @keyframes reflection { 0% { top: -100%; left: -100%; } 100% { top: 100%; left: 100%; } }

        .btn-divine { background: transparent; color: var(--gold); padding: 15px 35px; text-decoration: none; font-family: 'Orbitron', sans-serif; border: 2px solid var(--gold); clip-path: polygon(10% 0, 100% 0, 90% 100%, 0% 100%); transition: 0.4s; cursor: pointer; display: inline-block; }
        .btn-divine:hover { background: var(--gold); color: #000; box-shadow: 0 0 30px var(--gold); transform: scale(1.05); }

        #music-control { position: fixed; bottom: 80px; right: 20px; z-index: 2000; }
        footer { position: fixed; bottom: 0; width: 100%; padding: 15px; color: #444; font-size: 0.7rem; letter-spacing: 4px; background: rgba(0,0,0,0.8); }
    </style>
</head>
<body>
    <div id="loader"><div class="loader-ring"></div><p style="color: var(--gold); margin-top: 20px; font-family: 'Orbitron';">SISTEMA TERRENCE.M</p></div>
    <div id="custom-cursor"></div><div id="cursor-dot"></div>
    <div id="particles-js"></div><div class="bg-mesh"></div>

    <audio id="bg-audio" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3" type="audio/mpeg"></audio>
    <audio id="click-sound"><source src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3" type="audio/mpeg"></audio>

    <nav>
        <a href="/" onmouseover="playClick()">HOME</a>
        <a href="/servicios" onmouseover="playClick()">UNIDADES</a>
        <a href="/proyectos" onmouseover="playClick()">NODOS</a>
        <a href="/about" onmouseover="playClick()">IMPERIO</a>
        <a href="/pagos" onmouseover="playClick()">TERMINAL</a>
    </nav>

    <div id="music-control">
        <button onclick="toggleMusic()" class="btn-divine" style="padding: 8px 15px; font-size: 10px;">AUDIO: OFF</button>
    </div>

    <div class="container">{% block content %}{% endblock %}</div>

    <footer>PROTOCOLO NIVEL DIOS v4.5 - TERRENCE.M</footer>

    <script>
        window.onload = () => { setTimeout(() => { document.getElementById('loader').style.opacity = '0'; setTimeout(() => document.getElementById('loader').style.display='none', 1000); }, 1500); };
        
        particlesJS("particles-js", { "particles": { "number": { "value": 70 }, "color": { "value": "#d4af37" }, "shape": { "type": "circle" }, "opacity": { "value": 0.4 }, "size": { "value": 2 }, "line_linked": { "enable": true, "distance": 150, "color": "#d4af37", "opacity": 0.2 }, "move": { "enable": true, "speed": 1.5 } } });

        const cursor = document.getElementById('custom-cursor');
        const dot = document.getElementById('cursor-dot');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px'; cursor.style.top = e.clientY + 'px';
            dot.style.left = e.clientX + 'px'; dot.style.top = e.clientY + 'px';
        });

        const audio = document.getElementById('bg-audio');
        const clickSfx = document.getElementById('click-sound');
        const btn = document.querySelector('#music-control button');
        let audioActive = false;

        function toggleMusic() {
            if (audio.paused) { audio.play(); audioActive = true; btn.innerHTML = "AUDIO: ON"; btn.style.color = "#00ff00"; }
            else { audio.pause(); audioActive = false; btn.innerHTML = "AUDIO: OFF"; btn.style.color = "var(--gold)"; }
        }
        function playClick() { if(audioActive) { clickSfx.currentTime = 0; clickSfx.volume = 0.2; clickSfx.play(); } }
    </script>
    <script type="text/javascript">var Tawk_API=Tawk_API||{}; (function(){var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];s1.async=true;s1.src='https://embed.tawk.to/647f1b7494630204ec51780e/default';s1.charset='UTF-8';s1.setAttribute('crossorigin','*');s0.parentNode.insertBefore(s1,s0);})();</script>
</body>
</html>
