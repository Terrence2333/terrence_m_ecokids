{% extends "base.html" %}
{% block title %}Comando Central{% endblock %}
{% block content %}
<div class="glass-panel">
    <div id="ai-visor" style="position: absolute; top: 20px; right: 20px; width: 160px; height: 120px; border: 1px solid var(--gold); background: #000; border-radius: 5px; overflow: hidden;">
        <video id="webcam" autoplay playsinline style="width: 100%; height: 100%; object-fit: cover; filter: sepia(1) saturate(2); opacity: 0.6;"></video>
        <div style="position: absolute; top: 0; width: 100%; height: 2px; background: var(--gold); animation: scan 3s infinite;"></div>
    </div>
    <h1 style="font-size: 3.5rem;">TERRENCE M</h1>
    <p style="letter-spacing: 8px; color: var(--gold);">INGENIERÍA SUSTENTABLE DE ÉLITE</p>
    <div style="display: flex; justify-content: center; gap: 50px; margin: 40px 0;">
        <div><h2 id="c1" style="color: var(--gold);">0</h2><p style="font-size: 0.7rem;">CO2 REDUCIDO</p></div>
        <div><h2 id="c2" style="color: var(--gold);">0</h2><p style="font-size: 0.7rem;">MW GENERADOS</p></div>
    </div>
    <a href="/servicios" class="btn-divine" onmouseover="playClick()">ACCEDER AL NÚCLEO</a>
</div>
<script>
    async function initCam() { try { const s = await navigator.mediaDevices.getUserMedia({video:true}); document.getElementById('webcam').srcObject = s; } catch(e){} }
    initCam();
    function counter(id, end) { let c = 0; let i = setInterval(() => { c += end/60; if(c >= end) { document.getElementById(id).innerText = end + "+"; clearInterval(i); } else { document.getElementById(id).innerText = Math.floor(c); } }, 30); }
    counter('c1', 4500); counter('c2', 1250);
</script>
<style>@keyframes scan { 0% {top:0} 100% {top:100%} }</style>
{% endblock %}